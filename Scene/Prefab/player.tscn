[gd_scene load_steps=20 format=3 uid="uid://bn1sslopbx1b0"]

[ext_resource type="Script" uid="uid://dpbddtuuyg528" path="res://Scene/Script/player.gd" id="1_kelma"]
[ext_resource type="PackedScene" uid="uid://ccr6rk4m8hxom" path="res://Assets/Models/Y_bot.glb" id="2_j5gcp"]
[ext_resource type="Script" uid="uid://xq1ra584u4ur" path="res://Scene/Script/weapon.gd" id="2_so35y"]
[ext_resource type="Script" uid="uid://ddids0lp1b10p" path="res://Scene/Script/camera_arm.gd" id="2_y8w33"]
[ext_resource type="PackedScene" uid="uid://dugu4l4k0gjq1" path="res://Scene/Prefab/bullet.tscn" id="3_pexhn"]
[ext_resource type="Script" uid="uid://cibybuxgmqbvu" path="res://Scene/Script/Player_Animation_Script.gd" id="6_auyik"]
[ext_resource type="PackedScene" uid="uid://dwvtpua2pdkh2" path="res://Scene/player_ui.tscn" id="7_fycsd"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_kelma"]

[sub_resource type="BoxMesh" id="BoxMesh_j47wa"]
size = Vector3(0.2, 0.2, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_pexhn"]
size = Vector3(1.1, 1.75339, 1.1)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_wdlpq"]
animation = &"Standard_run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0b76m"]
animation = &"Left_strafe"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_j5gcp"]
animation = &"Idle"

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_auyik"]
xfade_time = 0.1
input_0/name = "Idle"
input_0/auto_advance = false
input_0/break_loop_at_end = false
input_0/reset = true
input_1/name = "Run"
input_1/auto_advance = false
input_1/break_loop_at_end = false
input_1/reset = true
input_2/name = "Left_Strafe"
input_2/auto_advance = false
input_2/break_loop_at_end = false
input_2/reset = true
input_3/name = "Right_Strafe"
input_3/auto_advance = false
input_3/break_loop_at_end = false
input_3/reset = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_auyik"]
animation = &"Left_strafe"

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_hcrbg"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_71yr4"]
animation = &"Right_strafe"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fycsd"]
animation = &"Standard_run"

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_auyik"]
nodes/Animation/node = SubResource("AnimationNodeAnimation_0b76m")
nodes/Animation/position = Vector2(-440, 700)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_wdlpq")
"nodes/Animation 2/position" = Vector2(-460, 860)
nodes/Idle/node = SubResource("AnimationNodeAnimation_j5gcp")
nodes/Idle/position = Vector2(-300, 60)
nodes/Idle_to_Run/node = SubResource("AnimationNodeTransition_auyik")
nodes/Idle_to_Run/position = Vector2(140, 340)
nodes/Left_Strafe/node = SubResource("AnimationNodeAnimation_auyik")
nodes/Left_Strafe/position = Vector2(-300, 380)
nodes/Left_up/node = SubResource("AnimationNodeBlend2_hcrbg")
nodes/Left_up/position = Vector2(-240, 700)
nodes/Right_Strafe/node = SubResource("AnimationNodeAnimation_71yr4")
nodes/Right_Strafe/position = Vector2(-300, 540)
nodes/Run/node = SubResource("AnimationNodeAnimation_fycsd")
nodes/Run/position = Vector2(-320, 220)
nodes/output/position = Vector2(400, 380)
node_connections = [&"Idle_to_Run", 0, &"Idle", &"Idle_to_Run", 1, &"Run", &"Idle_to_Run", 2, &"Left_Strafe", &"Idle_to_Run", 3, &"Right_Strafe", &"Left_up", 0, &"Animation", &"Left_up", 1, &"Animation 2", &"output", 0, &"Idle_to_Run"]

[node name="Player" type="CharacterBody3D" node_paths=PackedStringArray("CAMERA", "VISUALS", "WEAPON") groups=["Player_node"]]
script = ExtResource("1_kelma")
CAMERA = NodePath("Camera_arm/Camera3D")
VISUALS = NodePath("Visuals")
WEAPON = NodePath("Visuals/Weapon")

[node name="Collision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_kelma")

[node name="Visuals" type="Node3D" parent="."]

[node name="Y_bot" parent="Visuals" instance=ExtResource("2_j5gcp")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="Skeleton3D" parent="Visuals/Y_bot/Y_Bot" index="0"]
bones/0/position = Vector3(0.00139834, 4.84474e-05, -83.7903)
bones/0/rotation = Quaternion(-0.552219, -0.148105, 0.0527749, 0.81874)
bones/1/rotation = Quaternion(0.0678501, 0.0855191, 0.0404995, 0.993198)
bones/2/rotation = Quaternion(0.0107233, 0.0212676, 0.0113032, 0.999653)
bones/3/rotation = Quaternion(0.0684816, 0.0215071, 0.00986349, 0.997372)
bones/4/rotation = Quaternion(-0.0608876, -0.0121591, 0.0126156, 0.997991)
bones/5/rotation = Quaternion(-0.216362, 0.0468045, -0.0440327, 0.974196)
bones/7/position = Vector3(6.10582, 9.10628, 0.757077)
bones/7/rotation = Quaternion(-0.500384, -0.503177, 0.605364, -0.360503)
bones/8/position = Vector3(6.84061e-06, 12.9223, 4.9701e-06)
bones/8/rotation = Quaternion(0.459719, 0.2471, -0.193272, 0.830811)
bones/9/position = Vector3(1.77119e-05, 27.4047, 1.71252e-05)
bones/9/rotation = Quaternion(6.18601e-07, -3.75771e-07, 0.526647, 0.850084)
bones/10/rotation = Quaternion(-0.17278, 0.119438, 0.126691, 0.969449)
bones/11/rotation = Quaternion(0.0779168, -0.0700365, 0.277627, 0.954959)
bones/12/position = Vector3(4.17269e-07, 4.74497, 1.72776e-05)
bones/12/rotation = Quaternion(0.0755227, -0.074793, -0.273289, 0.956042)
bones/13/position = Vector3(-3.03984e-06, 4.38211, -2.66965e-05)
bones/13/rotation = Quaternion(-0.125322, 0.100845, 0.242614, 0.956694)
bones/14/position = Vector3(-3.67838e-06, 3.45908, 4.93111e-06)
bones/15/position = Vector3(-2.82204, 12.2666, 0.231819)
bones/15/rotation = Quaternion(0.236615, -0.00939538, 0.0943575, 0.966965)
bones/16/position = Vector3(2.57119e-06, 3.89195, -3.43051e-06)
bones/16/rotation = Quaternion(0.630666, -4.42454e-06, -0.0646337, 0.773358)
bones/17/position = Vector3(-3.54483e-07, 3.41516, 1.06075e-06)
bones/17/rotation = Quaternion(0.261604, -1.97643e-07, -0.0268084, 0.964803)
bones/18/position = Vector3(-1.07915e-06, 3.078, 5.23692e-06)
bones/19/position = Vector3(-1.17495e-05, 12.7755, -1.22966e-05)
bones/19/rotation = Quaternion(0.404792, -0.0386971, 0.0101655, 0.913533)
bones/20/position = Vector3(1.4555e-06, 3.61398, -5.56501e-06)
bones/20/rotation = Quaternion(0.541751, -3.68091e-07, -0.0555169, 0.838704)
bones/21/rotation = Quaternion(0.287922, -1.86995e-07, -0.0295052, 0.957199)
bones/22/position = Vector3(-3.26107e-05, 3.68019, -7.91982e-06)
bones/23/position = Vector3(2.21664, 12.147, -0.00999975)
bones/23/rotation = Quaternion(0.43513, -0.0360034, -0.00582034, 0.899629)
bones/24/position = Vector3(-9.22117e-07, 3.60118, -5.64357e-07)
bones/24/rotation = Quaternion(0.616598, -5.48365e-06, -0.0631936, 0.784738)
bones/25/position = Vector3(-3.83616e-06, 3.30732, 2.9171e-07)
bones/25/rotation = Quaternion(0.247722, 6.24152e-08, -0.0253857, 0.968499)
bones/26/position = Vector3(-1.82863e-05, 3.66011, 2.26456e-05)
bones/27/position = Vector3(4.72583, 10.9082, 0.226133)
bones/27/rotation = Quaternion(0.481516, -0.0309782, -0.0310079, 0.875341)
bones/28/position = Vector3(-4.85333e-07, 4.13667, 4.04302e-06)
bones/28/rotation = Quaternion(0.477495, -0.000176713, -0.0492556, 0.877253)
bones/29/position = Vector3(-4.10103e-06, 2.59482, 3.1202e-06)
bones/29/rotation = Quaternion(0.2863, 6.645e-05, -0.0291182, 0.957697)
bones/30/position = Vector3(-5.21386e-08, 2.92387, 2.25627e-08)
bones/31/position = Vector3(-6.10569, 9.10637, 0.757083)
bones/31/rotation = Quaternion(0.593999, -0.426614, 0.565646, 0.381065)
bones/32/position = Vector3(9.4248e-06, 12.9223, -1.03753e-05)
bones/32/rotation = Quaternion(0.30974, 0.0836229, -0.306764, 0.896083)
bones/33/rotation = Quaternion(2.29996e-09, 2.40609e-07, -0.753511, 0.657435)
bones/34/position = Vector3(1.67353e-05, 27.6145, -4.49891e-06)
bones/34/rotation = Quaternion(-0.0684982, -0.278691, -0.0687053, 0.955468)
bones/35/position = Vector3(3.00298, 3.7888, 2.16716)
bones/35/rotation = Quaternion(0.221787, 0.141452, -0.259426, 0.929247)
bones/36/position = Vector3(-5.96101e-08, 4.74495, -1.37061e-05)
bones/36/rotation = Quaternion(0.0116688, -0.0307334, 0.258188, 0.965535)
bones/37/position = Vector3(-8.16584e-06, 4.38215, 9.23079e-06)
bones/37/rotation = Quaternion(-0.0661333, 0.000861365, -0.213709, 0.974656)
bones/39/position = Vector3(2.82205, 12.2666, 0.231841)
bones/39/rotation = Quaternion(0.499975, 0.0398982, -0.00304596, 0.865115)
bones/40/position = Vector3(-1.64008e-06, 3.89196, 5.09313e-06)
bones/40/rotation = Quaternion(0.503632, 2.48941e-06, 0.0410305, 0.862943)
bones/41/position = Vector3(-5.77017e-06, 3.41516, 3.5614e-06)
bones/41/rotation = Quaternion(0.299402, 2.5816e-07, 0.0243901, 0.953815)
bones/42/position = Vector3(-8.03909e-06, 3.07799, 4.66387e-06)
bones/43/position = Vector3(2.42296e-05, 12.7755, 1.58756e-05)
bones/43/rotation = Quaternion(0.523557, 0.0472447, -0.0010329, 0.850679)
bones/44/position = Vector3(4.71422e-07, 3.61397, -1.83367e-06)
bones/44/rotation = Quaternion(0.589221, 4.4557e-07, 0.0479995, 0.806545)
bones/45/position = Vector3(-2.48728e-05, 3.45977, 6.08567e-07)
bones/45/rotation = Quaternion(0.459725, 2.1766e-07, 0.0374503, 0.887271)
bones/46/position = Vector3(3.07505e-05, 3.68019, -7.05104e-06)
bones/47/position = Vector3(-2.21663, 12.147, -0.00997882)
bones/47/rotation = Quaternion(0.631366, 0.0594646, 0.00895456, 0.77315)
bones/48/position = Vector3(-8.27871e-06, 3.6012, 3.02961e-06)
bones/48/rotation = Quaternion(0.616714, 5.32788e-06, 0.0502454, 0.785583)
bones/49/rotation = Quaternion(0.371517, 3.81608e-07, 0.0302647, 0.927933)
bones/50/position = Vector3(2.65614e-05, 3.66012, -9.30177e-06)
bones/51/position = Vector3(-4.72584, 10.9082, 0.226152)
bones/51/rotation = Quaternion(0.661749, 0.0486942, 0.0341611, 0.747363)
bones/52/position = Vector3(1.57372e-06, 4.13664, -2.4955e-07)
bones/52/rotation = Quaternion(0.638284, 7.20754e-06, 0.0520042, 0.768042)
bones/53/position = Vector3(7.59752e-06, 2.59483, 9.00821e-06)
bones/53/rotation = Quaternion(0.577978, -5.84007e-06, 0.0470749, 0.814693)
bones/54/position = Vector3(-1.77019e-06, 2.92387, 3.94798e-06)
bones/55/rotation = Quaternion(0.0842137, 0.570983, 0.802398, -0.151799)
bones/56/rotation = Quaternion(-0.887558, 0.019622, -0.0260909, 0.459537)
bones/57/rotation = Quaternion(0.540654, 0.0720224, 0.121179, 0.82935)
bones/58/rotation = Quaternion(0.271189, -0.0323678, -0.0145566, 0.961872)
bones/60/rotation = Quaternion(0.0181226, 0.300686, 0.952271, -0.0493825)
bones/61/rotation = Quaternion(-0.507453, -0.049513, 0.00129316, 0.860255)
bones/62/rotation = Quaternion(0.782777, 0.00882381, -0.00230144, 0.622235)
bones/63/rotation = Quaternion(0.306814, 0.0317993, 0.0137241, 0.951139)

[node name="Weapon" type="Node3D" parent="Visuals" node_paths=PackedStringArray("PLAYER_NODE", "SHOOT_POS")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.2, 0)
script = ExtResource("2_so35y")
BULLET_PREFAB = ExtResource("3_pexhn")
PLAYER_NODE = NodePath("../..")
SHOOT_POS = NodePath("Bullet_pos")
SHOOT_RATE = 0.1

[node name="Weapon_Mesh" type="MeshInstance3D" parent="Visuals/Weapon"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.343426, 0, -0.689939)
mesh = SubResource("BoxMesh_j47wa")

[node name="Bullet_pos" type="Node3D" parent="Visuals/Weapon"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.342477, 0, -1.45641)

[node name="Camera_arm" type="SpringArm3D" parent="." node_paths=PackedStringArray("player")]
transform = Transform3D(0.866025, 0.353553, 0.353553, 0, 0.707107, -0.707107, -0.5, 0.612372, 0.612372, 0, 2.5, 0)
spring_length = -10.0
script = ExtResource("2_y8w33")
player = NodePath("..")

[node name="Camera3D" type="Camera3D" parent="Camera_arm" groups=["Camera"]]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="Area" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0783813, 0)
shape = SubResource("BoxShape3D_pexhn")

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../Visuals/Y_bot")
tree_root = SubResource("AnimationNodeBlendTree_auyik")
anim_player = NodePath("../Visuals/Y_bot/AnimationPlayer")
parameters/Idle_to_Run/current_state = "Run"
parameters/Idle_to_Run/transition_request = ""
parameters/Idle_to_Run/current_index = 1
parameters/Left_up/blend_amount = 0.5
script = ExtResource("6_auyik")

[node name="Player_UI" parent="." instance=ExtResource("7_fycsd")]

[connection signal="body_entered" from="Area" to="." method="_on_area_body_entered"]

[editable path="Visuals/Y_bot"]
